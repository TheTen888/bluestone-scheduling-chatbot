# Healthcare Provider Scheduling System

Healthcare optimization platform for provider scheduling across multi-facility networks.

## Quick Setup

### Prerequisites
- Python 3.9+ (tested with 3.12)
- Node.js 16+ and npm
- **Optimization Solver**: OR-Tools (open source)

### Backend Setup

1. **Create Python environment**:
   ```bash
   conda create -n bluestone python=3.12
   ```
   - Creates a new conda environment named "bluestone"

2. **Activate the environment**:
   ```bash
   conda activate bluestone
   ```
   - You should see `(bluestone)` in your terminal prompt

3. **Install Python dependencies**:
   ```bash
   pip install -r requirements.txt
   ```
   - Installs Flask, OR-Tools, NumPy, etc.

4. **Verify installation**:
   ```bash
   python -c "import ortools; print('OR-Tools installed successfully')"
   ```

### Frontend Setup

1. **Navigate to frontend directory**:
   ```bash
   cd frontend
   ```

2. **Install Node.js dependencies**:
   ```bash
   npm install
   ```
   - Downloads and installs all React dependencies
   - This may take a few minutes

3. **Put your Gemini API KEY**:
   - Put it in the .env.local fie in the frontend directory
   - You may also replace the gemini model you are using by replacing this in services/geminiServices.ts around line 250
   ```bash
      const response = await ai.models.generateContent({
      model: "gemini-2.5-flash",
   ```

## Data Configuration

**We are currently using anonymized data. If you want to try with  create a `data/real/` directory with your data**

1. **Create your data directory**:
   ```bash
   mkdir -p data/real/distance_matrices
   ```

2. **Add your organization's data files**:
   - `data/real/PCP_Facility.csv` - Provider-facility relationships and patient assignments
   - `data/real/Census.csv` - Monthly patient census data by facility  
   - `data/real/PCP_Visits.csv` - Historical visit records
   - `data/real/distance_matrices/[BusinessLine]_pcp_facility_durations.csv` - Travel times from provider homes to facilities
   - `data/real/distance_matrices/[BusinessLine]_facility_facility_durations.csv` - Inter-facility travel times

   **Business Line Specific (To ensure each facility is taken care by one provider):**
   - `data/real/[BusinessLine]_assignments.csv` - Valid provider-facility pairs for filtering (e.g., `Wisconsin_Geriatrics_assignments.csv`)

3. **Switch to your data** by editing `models/config.py`:
   ```python
   data_source = "real"  # Change from "anonymized" to "real"
   ```


**Optional Files:**
- `data/provider_unavailable_dates.csv` - Provider vacation/unavailable dates

### Output Files (Generated by System)
- Download ics file from the browser to import to the calendar.

## How to Run the System

### Method 1: Separate Terminals (Recommended for Development)

**Use this method when you need to see console logs and debug issues**

1. **Start the Backend Server** (Terminal 1):
   ```bash
   python app.py
   ```
   - Flask backend runs at: http://127.0.0.1:5001
   - Shows API logs and optimization progress
   - Keep this terminal open

2. **Start the Frontend Server** (Terminal 2):
   ```bash
   cd frontend
   npm run dev
   ```
   - Frontend runs at: http://localhost:3000
   - Shows build logs and any errors
   - Keep this terminal open

3. **Access the Application**: 
   - Open browser to: http://localhost:3000
   - The frontend automatically connects to the backend

### Method 2: Quick Start (Background Services)

**Use this for local development and testing**

1. **One-command startup**:
   ```bash
   ./start.sh
   ```
   - Starts both backend and frontend
   - Access at: http://localhost:3000
   - Services run in background

2. **Stop all services**: Press `Ctrl+C` in the terminal

### Important Notes

- **Backend**: Flask runs on port 5001
- **Frontend**: React runs on port 3000 (development only)
- **Access**: Open browser to http://localhost:3000

